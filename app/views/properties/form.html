<section class="page">
    <article class="article article-noborder">
        <div class="content-center">

            <div ui-view="error"></div>
            <div ui-view="loading"></div>

            <div class="title">
                <span class="text">Novo Imóvel {{property.code}}</span>
            </div>
            <div class="content">
                <form name="forms.user">
                    <div class="division col-xs-12 col-sm-6">
                        <div class="item item-left col-xs-12">
                            <div class="label label-max">Código</div>
                            <div class="value value-center">
                                <input type="text" ng-model="property.code" required ng-disabled="!edit">
                            </div>
                        </div>

                        <div class="item item-left col-xs-12">
                            <div class="label label-max">Cliente</div>
                            <div class="value value-center">
                                <select ng-model="property.client" ng-disabled="!edit" required>
                                    <option ng-repeat="client in clients" value="{{client._id}}"
                                            ng-selected="property.client._id == client._id">
                                        {{client.name}}
                                    </option>
                                </select>
                            </div>
                        </div>

                        <div class="item item-left col-xs-12 col-sm-8">
                            <div class="label label-max">Tipo</div>
                            <div class="value value-center">
                                <select ng-model="property.type" ng-disabled="!edit" required>
                                    <option value="apartament">Apartamento</option>
                                    <option value="house">Casa</option>
                                    <option value="land">Terreno</option>
                                    <option value="car">Carro</option>
                                </select>
                            </div>
                        </div>

                        <div class="item item-left col-xs-12 col-sm-4">
                            <div class="label label-xsmall">M²</div>
                            <div class="value value-center">
                                <input type="text" ng-model="property.meters" meters required ng-disabled="!edit">
                            </div>
                        </div>

                        <div class="item item-left col-xs-12 col-sm-6">
                            <div class="label label-small">Vagas</div>
                            <div class="value value-center">
                                <select ng-model="property.vacancy" ng-disabled="!edit" required>
                                    <option value="{{vacancy}}" ng-repeat="vacancy in 30 | range">
                                        {{vacancy}}
                                    </option>
                                </select>
                            </div>
                        </div>

                        <div class="item item-left col-xs-12 col-sm-6">
                            <div class="label label-small">Andar</div>
                            <div class="value value-center">
                                <select ng-model="property.floor" ng-disabled="!edit" required>
                                    <option value="{{floor}}" ng-repeat="floor in 30 | range">
                                        {{floor}}
                                    </option>
                                </select>
                            </div>
                        </div>

                        <div class="item item-left col-xs-12 col-sm-4">
                            <div class="label label-small">Estado</div>
                            <div class="value value-center">
                                <select ng-model="property.address.state" ng-disabled="!edit" required
                                        ng-change="showCities()">
                                    <option value="{{state}}" ng-repeat="state in states">
                                        {{state}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="item item-left col-xs-12 col-sm-8">
                            <div class="label label-small">Cidade</div>
                            <div class="value value-center">
                                <select ng-model="property.address.city" ng-disabled="!edit" required>
                                    <option value="{{city}}" ng-repeat="city in cities">
                                        {{city.name}}
                                    </option>
                                </select>
                            </div>
                        </div>

                        <div class="item item-left col-xs-12 col-sm-7">
                            <div class="label label-small">Bairro</div>
                            <div class="value value-center">
                                <input type="text" ng-model="property.address.neighborhood" required ng-disabled="!edit">
                            </div>
                        </div>

                        <div class="item item-left col-xs-12 col-sm-5">
                            <div class="label label-xsmall">CEP</div>
                            <div class="value value-center">
                                <input type="text" ng-model="property.address.cep" ui-br-cep-mask required ng-disabled="!edit">
                            </div>
                        </div>

                        <div class="item item-left col-xs-12">
                            <div class="label">Próximo ao metro?</div>
                            <div class="value value-center">
                                <input type="checkbox" ng-model="property.hasSubway" required ng-disabled="!edit">
                                <input type="text" ng-model="property.subwayStation" placeholder="Qual estação?"
                                   required ng-disabled="!edit">
                            </div>
                        </div>
                    </div>

                    <div class="division col-xs-12 col-sm-4">
                        <div class="item item-left col-xs-12">
                            <div class="label label-large label-left">Valor do Imóvel</div>
                            <div class="value value-center">
                                <input type="text" ng-model="property.value" required ng-disabled="!edit">
                            </div>
                        </div>

                        <div class="item item-left col-xs-12">
                            <div class="label label-large label-left">Valor do condomínio</div>
                            <div class="value value-center">
                                <input type="text" ng-model="property.condominium" required ng-disabled="!edit">
                            </div>
                        </div>

                        <div class="item item-left col-xs-12">
                            <div class="label label-large label-left">Valor <br> do IPTU</div>
                            <div class="value value-center">
                                <input type="text" ng-model="property.iptu" required ng-disabled="!edit">
                            </div>
                        </div>

                        <div class="item item-left col-xs-12">
                            <div class="label label-large label-left">Valor da Locação</div>
                            <div class="value value-center">
                                <input type="text" ng-model="property.location" required ng-disabled="!edit">
                            </div>
                        </div>

                        <div class="item item-left col-xs-12">
                            <div class="label label-large label-left">Forma de Pagamento da Diferença</div>
                            <div class="value value-center">
                                <div class="checkbox">
                                    <input type="checkbox" ng-model="property.payment[0]" value="financing"
                                       required ng-disabled="!edit">
                                    <span class="text">Financiamento</span>
                                </div>

                                <div class="checkbox">
                                    <input type="checkbox" ng-model="property.payment[1]" value="money"
                                       required ng-disabled="!edit">
                                    <span class="text">Dinheiro</span>
                                </div>

                                <div class="checkbox">
                                    <input type="checkbox" ng-model="property.payment[2]" value="others"
                                       required ng-disabled="!edit">
                                    <span class="text">Outros</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="division col-xs-12 col-sm-2">
                        <div class="item col-xs-12">
                            <div class="label label-xsmall label-left">% do Valor Aceito para Permuta</div>
                            <div class="value value-center">
                                <input type="number" ng-model="property.exchange" required ng-disabled="!edit">
                            </div>
                        </div>

                        <div class="item col-xs-12">
                            <div class="label label-xsmall label-left">Imóvel Quitado?</div>
                            <div class="value value-center">
                                <input type="checkbox" ng-model="property.settled" required ng-disabled="!edit">
                            </div>
                        </div>

                        <div class="item col-xs-12">
                            <div class="label label-xsmall label-left">Qual o saldo?</div>
                            <div class="value value-center">
                                <input type="number" ng-model="property.difference" required ng-disabled="!edit">
                            </div>
                        </div>

                        <div class="item col-xs-12">
                            <div class="label label-xsmall label-left">Possui Carro</div>
                            <div class="value value-center">
                                <input type="checkbox" ng-model="property.car" required ng-disabled="!edit">
                            </div>
                        </div>

                        <div class="item col-xs-12">
                            <div class="label label-xsmall label-left">Valor do Carro</div>
                            <div class="value value-center">
                                <input type="number" ng-model="property.carValue" required ng-disabled="!edit">
                            </div>
                        </div>

                    </div>

                </form>
            </div>
        </div>
    </article>

    <nav class="pagination">
        <div class="content-center">
            <div class="item" ng-if="!edit">
                <button class="btn btn-link btn-link-soft" ng-click="canEdit()">
                    <span class="icon icon-edit"></span>
                    <span class="text">Editar</span>
                </button>
            </div>
            <div class="item" ng-if="edit">
                <button class="btn btn-link btn-link-soft" ng-click="saveOrUpdate()">
                    <span class="icon icon-save"></span>
                    <span class="text">Salvar</span>
                </button>
            </div>
            <div class="item">
                <a ui-sref="dashboard.properties" class="btn btn-link btn-link-soft">
                    <span class="icon icon-close"></span>
                    <span class="text">Cancelar</span>
                </a>
            </div>
        </div>
    </nav>
</section>